# ğŸš€ ä»è¿™é‡Œå¼€å§‹ï¼(2025 å®˜æ–¹æ–¹å¼)

## âœ… å·²å®Œæˆçš„å‡†å¤‡å·¥ä½œ

1. **Node.js 20+ / npm**ï¼ˆç”¨äºè¿è¡Œ Template SDK æ„å»ºè„šæœ¬ï¼‰
2. **Docker Desktop**ï¼ˆå·²å®‰è£…ï¼Œå¯æ­£å¸¸è¿è¡Œï¼‰
3. **é…ç½®æ–‡ä»¶å·²å‡†å¤‡**
   - `e2b.toml` - E2B æ¨¡æ¿é…ç½® âœ“
   - `Dockerfile` - ç¯å¢ƒå®šä¹‰ âœ“
   - `.env` - API Key é…ç½® âœ“

## ğŸ¯ ä½ çš„ API Key

```
E2B_API_KEY=e2b_b2345ea59ce87270a8a1468204d25129023fb593
```

å·²é…ç½®åœ¨ `.env` æ–‡ä»¶ä¸­ âœ…

## ğŸ“‹ æ„å»º E2B æ¨¡æ¿ï¼ˆåªéœ€ 2 æ­¥ï¼‰

### ç¬¬ 1 æ­¥ï¼šå¯åŠ¨ Docker Desktop

1. æ‰“å¼€ **Docker Desktop** åº”ç”¨ç¨‹åº
2. ç­‰å¾…çŠ¶æ€æ˜¾ç¤º **"Docker Desktop is running"**
3. éªŒè¯ï¼šåœ¨ç»ˆç«¯è¿è¡Œ `docker ps`ï¼ˆä¸åº”è¯¥æŠ¥é”™ï¼‰

### ç¬¬ 2 æ­¥ï¼šè¿è¡Œæ„å»ºå‘½ä»¤

åœ¨åŒä¸€ä¸ªç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼ˆè„šæœ¬ä¼šè‡ªåŠ¨ä» `.env` è¯»å– `E2B_API_KEY`ï¼‰ï¼š

```powershell
cd c:\Users\bianh\x-pilot-video-render
npm run e2b:build:prod

# ï¼ˆå¯é€‰ï¼‰æ„å»ºå¼€å‘åˆ«å
npm run e2b:build:dev
```

> å¦‚æœéœ€è¦ä¸´æ—¶è¦†ç›– API Keyï¼Œå¯åœ¨è¿è¡Œå‘½ä»¤å‰æ‰§è¡Œï¼š`$env:E2B_API_KEY = 'your-key'`ã€‚

## â±ï¸ æ„å»ºè¿‡ç¨‹

```
å¼€å§‹
  â†“
[1/4] ä» .env è¯»å– E2B_API_KEY (2ç§’)
  â†“
[2/4] æ£€æŸ¥ Docker çŠ¶æ€ (2ç§’)
  â†“
[3/4] Template SDK æ‰§è¡Œæ„å»º (10-15åˆ†é’Ÿ)
  â”œâ”€ åŸºäº node:20-slim å®‰è£…ç³»ç»Ÿä¾èµ– (ffmpeg / python)
  â”œâ”€ npm ci --legacy-peer-deps
  â”œâ”€ pip3 install web-uploader ä¾èµ–
  â”œâ”€ å¤åˆ¶ Remotion é¡¹ç›®æ–‡ä»¶
  â””â”€ è®¾ç½® start/ready å‘½ä»¤
  â†“
[4/4] ä¸Šä¼ é•œåƒå¹¶æ³¨å†Œæ¨¡æ¿ (1-2åˆ†é’Ÿ)
  â†“
å®Œæˆ âœ…
```

**é¢„è®¡æ€»æ—¶é—´ï¼š10-15 åˆ†é’Ÿ**

## ğŸ“Š é¢„æœŸè¾“å‡º

```
========================================
  E2B æ¨¡æ¿æ„å»ºè„šæœ¬ - Template SDK v2
========================================

[1/4] ä» .env æ–‡ä»¶è¯»å–é…ç½®...
     > E2B_API_KEY å·²åŠ è½½

[2/4] æ£€æŸ¥ Docker çŠ¶æ€...
     > Docker æ­£åœ¨è¿è¡Œ

[3/4] æ„å»º E2B æ¨¡æ¿ (è¿™å¯èƒ½éœ€è¦ 10-15 åˆ†é’Ÿ)...
----------------------------------------

> npm run e2b:build:prod
> cd x-pilot-remotion-template && npx tsx build.prod.ts

ğŸš€ Build started (alias: x-pilot-remotion-template)
[info] Uploading sources (respecting .dockerignore)
[info] Step 1/6 aptInstall ffmpeg python3 ...
[info] Step 2/6 npm ci --legacy-peer-deps
[info] Step 3/6 pip3 install --no-cache-dir -r web-uploader/requirements.txt
[info] Step 4/6 copy project files
[info] Step 5/6 set environment + start cmd
[info] Step 6/6 exporting layers
âœ… Template created successfully!
Template ID: tpl_xxxxxxxxxx

========================================
  [æˆåŠŸ] æ¨¡æ¿æ„å»ºå®Œæˆï¼
========================================
```
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name: x-pilot-remotion-template            â”‚
â”‚ ID: tpl_xxxxxxxxxxxxxxxxxx                 â”‚
â”‚ Status: Ready                              â”‚
â”‚ Created: 2025-12-25 10:30:45               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

========================================
  ä¸‹ä¸€æ­¥
========================================

1. è®°å½•ä¸Šæ–¹æ˜¾ç¤ºçš„æ¨¡æ¿ ID
2. å‚è€ƒ E2B_SERVER_GUIDE.md åˆ›å»ºæœåŠ¡ç«¯é¡¹ç›®
3. åœ¨æœåŠ¡ç«¯ä½¿ç”¨æ¨¡æ¿ ID åˆ›å»ºæ²™ç®±
```

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šDocker æœªè¿è¡Œ

**é”™è¯¯ä¿¡æ¯**ï¼š
```
[é”™è¯¯] Docker æœªè¿è¡Œ
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å¯åŠ¨ Docker Desktop åº”ç”¨
2. ç­‰å¾…å®Œå…¨å¯åŠ¨ï¼ˆä»»åŠ¡æ å›¾æ ‡æ˜¾ç¤ºæ­£å¸¸ï¼‰
3. é‡æ–°è¿è¡Œæ„å»ºè„šæœ¬

### é—®é¢˜ 2ï¼š.env æ–‡ä»¶ä¸å­˜åœ¨

**é”™è¯¯ä¿¡æ¯**ï¼š
```
[é”™è¯¯] æœªæ‰¾åˆ° .env æ–‡ä»¶
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
å·²åˆ›å»ºï¼Œè·¯å¾„ï¼š`c:\Users\bianh\x-pilot-video-render\.env`
å†…å®¹å·²åŒ…å«ä½ çš„ API Keyã€‚

### é—®é¢˜ 3ï¼šAPI Key æ— æ•ˆ

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Authentication failed
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç™»å½• https://e2b.dev/dashboard
2. æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®
3. é‡æ–°å¤åˆ¶ API Key åˆ° `.env` æ–‡ä»¶

### é—®é¢˜ 4ï¼šç½‘ç»œè¶…æ—¶

**é”™è¯¯ä¿¡æ¯**ï¼š
```
npm ERR! network timeout
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. é…ç½® npm é•œåƒï¼ˆå¯é€‰ï¼‰ï¼š
   ```bash
   npm config set registry https://registry.npmmirror.com
   ```
3. é‡æ–°è¿è¡Œæ„å»º

## âœ… æ„å»ºæˆåŠŸå

1. **è®°å½•æ¨¡æ¿ ID**
   - ç±»ä¼¼ï¼š`tpl_xxxxxxxxxxxxxxxxxx`
   - è¿™ä¸ª ID ç”¨äºåœ¨æœåŠ¡ç«¯åˆ›å»ºæ²™ç®±

2. **åˆ›å»ºæœåŠ¡ç«¯é¡¹ç›®**
   - å‚è€ƒï¼š`E2B_SERVER_GUIDE.md`
   - åœ¨æœåŠ¡ç«¯é¡¹ç›®ä¸­ä½¿ç”¨æ¨¡æ¿ ID

3. **å¼€å§‹ç”Ÿæˆè§†é¢‘**
   ```typescript
   const sandbox = await Sandbox.create({
     template: 'tpl_ä½ çš„æ¨¡æ¿ID',
     apiKey: 'e2b_b2345ea59ce87270a8a1468204d25129023fb593'
   });
   ```

## ğŸ“š å®Œæ•´æ–‡æ¡£

- **`README.md`** - é¡¹ç›®æ€»è§ˆ
- **`E2B_QUICK_START.md`** - å¿«é€Ÿå¼€å§‹
- **`E2B_BUILD_INSTRUCTIONS.md`** - è¯¦ç»†æ„å»ºè¯´æ˜
- **`E2B_ARCHITECTURE_OVERVIEW.md`** - æ¶æ„è®¾è®¡
- **`E2B_SERVER_GUIDE.md`** - æœåŠ¡ç«¯é›†æˆï¼ˆâ­ é‡è¦ï¼‰

## ğŸ‰ ç«‹å³è¡ŒåŠ¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‡†å¤‡å¥½äº†å—ï¼Ÿ                             â”‚
â”‚                                         â”‚
â”‚  1. å¯åŠ¨ Docker Desktop âœ“               â”‚
â”‚  2. æ‰§è¡Œ npm run e2b:build:prod        â”‚
â”‚  3. ç­‰å¾… 10-15 åˆ†é’Ÿ â˜•                   â”‚
â”‚  4. è®°å½•æ¨¡æ¿ ID                          â”‚
â”‚  5. å¼€å§‹ä½¿ç”¨ï¼                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**ç°åœ¨å°±å¼€å§‹å§ï¼**

æ‰“å¼€ PowerShell æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œè¿è¡Œï¼š

```powershell
cd c:\Users\bianh\x-pilot-video-render
npm run e2b:build:prod
```

æœ‰ä»»ä½•é—®é¢˜ï¼ŒæŸ¥çœ‹ `E2B_BUILD_INSTRUCTIONS.md` è·å–è¯¦ç»†å¸®åŠ©ã€‚

ç¥ä½ å¥½è¿ï¼ğŸš€
